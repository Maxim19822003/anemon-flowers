(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},1567:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var a=s(3463),r=s(9795);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},2447:(e,t,s)=>{"use strict";s.d(t,{FloatingCartWidget:()=>d});var a=s(5155),r=s(9772),n=s(7005),i=s(5683),l=s(778),o=s(2115);function d(){let{totalItems:e,totalPrice:t,openCart:s}=(0,n._)(),[d,c]=(0,o.useState)(!1),[m,u]=(0,o.useState)(!1),[x,h]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{h(!0)},[]),(0,o.useEffect)(()=>{if(!x)return;let e=()=>{u(window.scrollY>300)};return e(),window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[x]),(0,o.useEffect)(()=>{x&&c(e>0&&m)},[e,m,x]),x&&0!==e)?(0,a.jsx)(i.N,{children:d&&(0,a.jsx)(l.P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 z-50",children:(0,a.jsxs)("button",{onClick:s,className:"flex items-center space-x-2 bg-[#50714d] hover:bg-[#3f5a3c] text-white px-4 py-3 rounded-full shadow-lg transition-all duration-300 hover:shadow-xl dark:bg-[#3a543a] dark:hover:bg-[#304830]",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(r.A,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"absolute -top-2 -right-2 flex h-5 w-5 items-center justify-center rounded-full bg-[#e1da68] text-xs text-[#50714d] font-semibold dark:bg-[#d5ce5e] dark:text-[#3a543a]",children:e})]}),(0,a.jsxs)("div",{className:"flex flex-col items-start",children:[(0,a.jsx)("span",{className:"text-xs whitespace-nowrap",children:"Корзина"}),(0,a.jsx)("span",{className:"text-sm font-bold whitespace-nowrap",children:new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}).format(t)})]})]})})}):null}},3312:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var a=s(5155),r=s(2115),n=s(2317),i=s(1027),l=s(1567);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:d=!1,...c}=e,m=d?n.DX:"button";return(0,a.jsx)(m,{className:(0,l.cn)(o({variant:r,size:i,className:s})),ref:t,...c})});d.displayName="Button"},4029:(e,t,s)=>{"use strict";s.d(t,{CG:()=>c,Fm:()=>f,XW:()=>p,cj:()=>d,h:()=>h,qp:()=>g});var a=s(5155),r=s(2115),n=s(8948),i=s(1027),l=s(689),o=s(1567);let d=n.bL,c=n.l9;n.bm;let m=n.ZL,u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.hJ,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:t})});u.displayName=n.hJ.displayName;let x=(0,i.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),h=r.forwardRef((e,t)=>{let{side:s="right",className:r,children:i,...d}=e;return(0,a.jsxs)(m,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(n.UC,{ref:t,className:(0,o.cn)(x({side:s}),r),...d,children:[(0,a.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(l.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]}),i]})]})});h.displayName=n.UC.displayName;let f=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};f.displayName="SheetHeader";let p=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};p.displayName="SheetFooter";let g=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.hE,{ref:t,className:(0,o.cn)("text-lg font-semibold text-foreground",s),...r})});g.displayName=n.hE.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.VY,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",s),...r})}).displayName=n.VY.displayName},5157:(e,t,s)=>{"use strict";s.d(t,{w:()=>l});var a=s(5155),r=s(2115),n=s(434),i=s(1567);let l=r.forwardRef((e,t)=>{let{className:s,orientation:r="horizontal",decorative:l=!0,...o}=e;return(0,a.jsx)(n.b,{ref:t,decorative:l,orientation:r,className:(0,i.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",s),...o})});l.displayName=n.b.displayName},6348:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,3704,23)),Promise.resolve().then(s.t.bind(s,4147,23)),Promise.resolve().then(s.t.bind(s,8489,23)),Promise.resolve().then(s.t.bind(s,347,23)),Promise.resolve().then(s.bind(s,7005)),Promise.resolve().then(s.bind(s,2447))},7005:(e,t,s)=>{"use strict";s.d(t,{CartProvider:()=>x,_:()=>u});var a=s(5155),r=s(2115),n=s(4029),i=s(3312),l=s(5157),o=s(689),d=s(5524),c=s(5565);let m=(0,r.createContext)(null),u=()=>{let e=(0,r.useContext)(m);if(!e)throw Error("useCart must be used within a CartProvider");return e};function x(e){let{children:t}=e,[s,n]=(0,r.useState)([]),[i,l]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=localStorage.getItem("anemonCart");if(e)try{n(JSON.parse(e))}catch(e){console.error("Failed to parse saved cart:",e)}},[]),(0,r.useEffect)(()=>{localStorage.setItem("anemonCart",JSON.stringify(s))},[s]);let o=()=>l(!0),d=e=>{n(t=>t.filter(t=>t.id!==e))},c=s.reduce((e,t)=>e+t.quantity,0),u=s.reduce((e,t)=>e+t.price*t.quantity,0);return(0,a.jsxs)(m.Provider,{value:{cartItems:s,isOpen:i,openCart:o,closeCart:()=>l(!1),addToCart:e=>{n(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}]),o()},removeFromCart:d,updateQuantity:(e,t)=>{if(t<=0){d(e);return}n(s=>s.map(s=>s.id===e?{...s,quantity:t}:s))},totalItems:c,totalPrice:u,clearCart:()=>{n([])}},children:[t,(0,a.jsx)(h,{})]})}function h(){let{cartItems:e,isOpen:t,closeCart:s,removeFromCart:r,updateQuantity:m,totalItems:x,totalPrice:h,clearCart:f}=u(),p=e=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}).format(e);return(0,a.jsx)(n.cj,{open:t,onOpenChange:s,children:(0,a.jsxs)(n.h,{className:"w-full sm:max-w-lg overflow-y-auto",children:[(0,a.jsxs)(n.Fm,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)(n.qp,{className:"text-2xl font-bold text-[#50714d]",children:["Корзина ",(0,a.jsxs)("span",{className:"text-sm font-normal text-gray-500",children:["(",x," шт.)"]})]}),(0,a.jsx)(i.$,{variant:"ghost",size:"icon",onClick:s,children:(0,a.jsx)(o.A,{className:"h-5 w-5"})})]}),(0,a.jsx)("div",{className:"mt-6 space-y-4",children:0===e.length?(0,a.jsxs)("div",{className:"py-8 text-center",children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Ваша корзина пуста"}),(0,a.jsx)(i.$,{onClick:s,className:"mt-4 bg-[#50714d] hover:bg-[#3f5a3c]",children:"Продолжить покупки"})]}):(0,a.jsxs)(a.Fragment,{children:[e.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-4 py-4",children:[(0,a.jsx)("div",{className:"relative h-16 w-16 overflow-hidden rounded-md",children:(0,a.jsx)(c.default,{src:e.image,alt:e.name,fill:!0,className:"object-cover"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-sm font-medium",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-[#50714d] font-semibold",children:p(e.price)})]}),(0,a.jsxs)("div",{className:"flex items-center border border-gray-200 rounded",children:[(0,a.jsx)(i.$,{variant:"ghost",size:"sm",className:"px-2 h-8",onClick:()=>m(e.id,e.quantity-1),children:"-"}),(0,a.jsx)("span",{className:"w-8 text-center",children:e.quantity}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",className:"px-2 h-8",onClick:()=>m(e.id,e.quantity+1),children:"+"})]}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",className:"text-red-500 hover:text-red-600 hover:bg-red-50 p-0 h-8 w-8",onClick:()=>r(e.id),children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})]},e.id)),(0,a.jsx)(l.w,{}),(0,a.jsxs)("div",{className:"flex justify-between font-medium",children:[(0,a.jsx)("span",{children:"Итого:"}),(0,a.jsx)("span",{className:"text-[#50714d]",children:p(h)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(i.$,{className:"w-full bg-[#50714d] hover:bg-[#3f5a3c]",children:"Оформить заказ"}),(0,a.jsx)(i.$,{variant:"outline",className:"w-full border-[#50714d] text-[#50714d] hover:bg-[#50714d]/10",onClick:f,children:"Очистить корзину"})]})]})}),(0,a.jsx)(n.XW,{className:"mt-6",children:(0,a.jsx)(i.$,{variant:"ghost",onClick:s,className:"text-sm text-gray-500",children:"Продолжить покупки"})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[896,968,233,441,587,358],()=>t(6348)),_N_E=e.O()}]);